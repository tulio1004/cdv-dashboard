server {
  listen 80;
  server_name dashboard.seudominio.com;

  location /.well-known/acme-challenge/ {
    root /var/www/certbot;
  }

  auth_basic "Restricted";
  auth_basic_user_file /etc/nginx/htpasswd/.htpasswd;

  location / {
    proxy_pass http://frontend:3000;
    proxy_set_header Host \System.Management.Automation.Internal.Host.InternalHost;
  }

  location /api/ {
    proxy_pass http://api:3001/;
    proxy_set_header Host \System.Management.Automation.Internal.Host.InternalHost;
  }
}
